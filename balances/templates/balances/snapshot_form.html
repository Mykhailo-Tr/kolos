{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/journal.css' %}">

<div class="journal-container">
  <div class="page-header">
    <h1 class="page-title">‚ûï {{ model_name }}</h1>
    <a href="{% url 'balance_snapshot_update' snapshot.pk %}" class="btn-add" style="background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);">
      <span>‚Ü©Ô∏è</span>
      <span>–ù–∞–∑–∞–¥</span>
    </a>
  </div>

  <div class="card">
    <div class="card-header bg-info text-white">
      <h5 class="mb-0">üìä –ó–ª—ñ–ø–æ–∫: {{ snapshot.description|default:"–ë–µ–∑ –æ–ø–∏—Å—É" }}</h5>
      <small>–î–∞—Ç–∞: {{ snapshot.snapshot_date|date:"d.m.Y H:i" }}</small>
    </div>
    <div class="card-body">
      <form method="post" novalidate>
        {% csrf_token %}
        
        {% if form.non_field_errors %}
          <div class="alert alert-danger">
            {{ form.non_field_errors }}
          </div>
        {% endif %}

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="{{ form.place_name.id_for_label }}" class="form-label">
              {{ form.place_name.label }}
              <span class="text-danger">*</span>
            </label>
            {{ form.place_name }}
            {% if form.place_name.errors %}
              <div class="invalid-feedback d-block">
                {{ form.place_name.errors }}
              </div>
            {% endif %}
          </div>

          <div class="col-md-6 mb-3">
            <label for="{{ form.culture_name.id_for_label }}" class="form-label">
              {{ form.culture_name.label }}
              <span class="text-danger">*</span>
            </label>
            {{ form.culture_name }}
            {% if form.culture_name.errors %}
              <div class="invalid-feedback d-block">
                {{ form.culture_name.errors }}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="{{ form.balance_type.id_for_label }}" class="form-label">
              {{ form.balance_type.label }}
              <span class="text-danger">*</span>
            </label>
            {{ form.balance_type }}
            {% if form.balance_type.errors %}
              <div class="invalid-feedback d-block">
                {{ form.balance_type.errors }}
              </div>
            {% endif %}
          </div>

          <div class="col-md-6 mb-3">
            <label for="{{ form.quantity.id_for_label }}" class="form-label">
              {{ form.quantity.label }}
              <span class="text-danger">*</span>
            </label>
            {{ form.quantity }}
            {% if form.quantity.errors %}
              <div class="invalid-feedback d-block">
                {{ form.quantity.errors }}
              </div>
            {% endif %}
          </div>
        </div>

        <div class="d-flex gap-2 justify-content-end mt-4">
          <a href="{% url 'balance_snapshot_update' snapshot.pk %}" class="btn btn-secondary">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </a>
          <button type="submit" class="btn btn-success">
            ‚ûï –î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock %}