{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/journal.css' %}">

<div class="journal-container">
  <div class="page-header">
    <h1 class="page-title">‚úèÔ∏è {{ model_name }}</h1>
    <a href="{% url 'balance_snapshot_detail' object.pk %}" class="btn-add" style="background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);">
      <span>‚Ü©Ô∏è</span>
      <span>–ù–∞–∑–∞–¥</span>
    </a>
  </div>

  <div class="card">
    <div class="card-body">
      <form method="post" novalidate>
        {% csrf_token %}
        
        {% if form.non_field_errors %}
          <div class="alert alert-danger">
            {{ form.non_field_errors }}
          </div>
        {% endif %}

        <div class="mb-3">
          <label for="{{ form.snapshot_date.id_for_label }}" class="form-label">
            {{ form.snapshot_date.label }}
            <span class="text-danger">*</span>
          </label>
          {{ form.snapshot_date }}
          {% if form.snapshot_date.errors %}
            <div class="invalid-feedback d-block">
              {{ form.snapshot_date.errors }}
            </div>
          {% endif %}
          <small class="form-text text-muted">–î–∞—Ç–∞ —Ç–∞ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–ª—ñ–ø–∫—É</small>
        </div>

        <div class="mb-3">
          <label for="{{ form.description.id_for_label }}" class="form-label">
            {{ form.description.label }}
          </label>
          {{ form.description }}
          {% if form.description.errors %}
            <div class="invalid-feedback d-block">
              {{ form.description.errors }}
            </div>
          {% endif %}
          <small class="form-text text-muted">–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –∑–ª—ñ–ø–∫—É –¥–ª—è –ª–µ–≥–∫–æ—ó —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó</small>
        </div>

        <div class="mb-3">
          <label for="{{ form.created_by.id_for_label }}" class="form-label">
            {{ form.created_by.label }}
          </label>
          {{ form.created_by }}
          {% if form.created_by.errors %}
            <div class="invalid-feedback d-block">
              {{ form.created_by.errors }}
            </div>
          {% endif %}
          <small class="form-text text-muted">–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ —Å–∏—Å—Ç–µ–º–∏, —â–æ —Å—Ç–≤–æ—Ä–∏–≤ –∑–ª—ñ–ø–æ–∫</small>
        </div>

        <div class="alert alert-info">
          <strong>‚ÑπÔ∏è –£–≤–∞–≥–∞:</strong> –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ –∑–∞–ª–∏—à–∫—ñ–≤ (–∑–∞–ø–∏—Å–∏ –≤ –∑–ª—ñ–ø–∫—É) –∑–∞–ª–∏—à–∞—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏. 
          –í–∏ –∑–º—ñ–Ω—é—î—Ç–µ –ª–∏—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–∞–º –∑–ª—ñ–ø–æ–∫.
        </div>

        <div class="d-flex gap-2 justify-content-end mt-4">
          <a href="{% url 'balance_snapshot_detail' object.pk %}" class="btn btn-secondary">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </a>
          <button type="submit" class="btn btn-primary">
            üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–ª—ñ–ø–æ–∫ -->
  <div class="card mt-4">
    <div class="card-header bg-light">
      <h5 class="mb-0">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–ª—ñ–ø–∫—É</h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <p class="mb-2"><strong>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤:</strong> {{ object.total_records }}</p>
          <p class="mb-0"><strong>–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å:</strong> {{ object.total_quantity|floatformat:3 }} —Ç–æ–Ω–Ω</p>
        </div>
        <div class="col-md-6">
          <p class="mb-2"><strong>–î–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:</strong> {{ object.snapshot_date|date:"d.m.Y H:i" }}</p>
          <p class="mb-0"><strong>–û–ø–∏—Å:</strong> {{ object.description|default:"‚Äî" }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}