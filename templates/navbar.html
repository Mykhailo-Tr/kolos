<style>
  :root {
    --navbar-bg: #1e293b;
    --navbar-border: #2563eb;
    --nav-link-color: #e2e8f0;
    --nav-link-hover: #ffffff;
    --nav-link-active-bg: #2563eb;
    --nav-link-hover-bg: #3b82f633;
  }

  .navbar-custom {
    background: var(--navbar-bg) !important;
    border-bottom: 3px solid var(--navbar-border);
    padding: 12px 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .navbar-brand {
    font-size: 1.4rem;
    font-weight: 700;
    color: white !important;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 0.25s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .navbar-brand:hover {
    background: var(--nav-link-hover-bg);
    transform: translateY(-3px) scale(1.03);
  }

  .nav-link-custom {
    color: var(--nav-link-color) !important;
    padding: 10px 18px !important;
    margin: 0 4px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.95rem;
    transition: all 0.25s ease;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .nav-link-custom:hover {
    color: var(--nav-link-hover) !important;
    background: var(--nav-link-hover-bg) !important;
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.35);
  }

  .nav-link-custom.active {
    background: var(--nav-link-active-bg) !important;
    color: white !important;
    font-weight: 600;
    box-shadow: 0 2px 6px rgba(37, 99, 235, 0.4);
  }

  .nav-link-auth {
    color: var(--nav-link-color) !important;
    padding: 8px 16px !important;
    margin: 0 4px;
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.25s ease;
    border: 1px solid transparent;
  }

  .nav-link-auth:hover {
    color: white !important;
    border-color: var(--navbar-border);
    background: rgba(37, 99, 235, 0.15);
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
  }

  .navbar-toggler {
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 8px 12px;
  }

  .navbar-toggler:focus {
    box-shadow: 0 0 0 0.15rem rgba(37, 99, 235, 0.5);
  }

  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }

  @media (max-width: 991px) {
    .navbar-nav { padding: 10px 0; }
    .nav-link-custom, .nav-link-auth { margin: 4px 0; }
    .navbar-brand { font-size: 1.2rem; }
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'home' %}">
      <span>üåæ</span>
      <span>Kolos</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a href="{% url 'weigherjournal_list' %}" class="nav-link nav-link-custom" id="weigherjournal">üìã –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è</a></li>
        <li class="nav-item"><a href="{% url 'shipmentjournal_list' %}" class="nav-link nav-link-custom" id="shipmentjournal">üöõ –í—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</a></li>
        <li class="nav-item"><a href="{% url 'fieldsincome_list' %}" class="nav-link nav-link-custom" id="fieldsincome">üå± –ù–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è –∑ –ø–æ–ª—ñ–≤</a></li>
        <li class="nav-item"><a href="{% url 'waste_list' %}" class="nav-link nav-link-custom" id="wastejournal">üóëÔ∏è –í—ñ–¥—Ö–æ–¥–∏</a></li>
        <li class="nav-item"><a href="{% url 'balance_list' %}" class="nav-link nav-link-custom" id="balances">‚öñÔ∏è –ó–∞–ª–∏—à–∫–∏</a></li>
      </ul>

      <ul class="navbar-nav ms-auto">
        {% if request.user.is_authenticated %}
          <li class="nav-item"><a class="nav-link nav-link-auth" href="{% url 'profile' %}">üë§ –ü—Ä–æ—Ñ—ñ–ª—å</a></li>
        {% else %}
          <li class="nav-item"><a class="nav-link nav-link-auth" href="{% url 'register' %}">üìù –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a></li>
          <li class="nav-item"><a class="nav-link nav-link-auth" href="{% url 'login' %}">üîë –õ–æ–≥—ñ–Ω</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<div id="page" data-page="{{ page }}"></div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const currentPage = document.getElementById("page").getAttribute("data-page");
    if (currentPage) {
      const activeLink = document.getElementById(currentPage);
      if (activeLink) activeLink.classList.add("active");
    }
  });
</script>