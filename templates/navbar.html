<style>
  /* üé® –ó–∞–≥–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è navbar */
  :root {
    --navbar-bg: #1e293b;
    --navbar-border: #2563eb;
    --nav-link-color: #e2e8f0;
    --nav-link-hover: #ffffff;
    --nav-link-active-bg: #2563eb;
    --nav-link-hover-bg: #334155;
  }

  /* üì± Navbar –æ—Å–Ω–æ–≤–Ω–∏–π */
  .navbar-custom {
    background: var(--navbar-bg) !important;
    border-bottom: 3px solid var(--navbar-border);
    padding: 12px 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* üåæ –õ–æ–≥–æ—Ç–∏–ø */
  .navbar-brand {
    font-size: 1.4rem;
    font-weight: 700;
    color: white !important;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .navbar-brand:hover {
    background: var(--nav-link-hover-bg);
    transform: translateY(-2px);
  }

  /* üîó –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è */
  .nav-link-custom {
    color: var(--nav-link-color) !important;
    padding: 10px 18px !important;
    margin: 0 4px;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.95rem;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .nav-link-custom:hover {
    color: var(--nav-link-hover) !important;
    background: var(--nav-link-hover-bg) !important;
  }

  /* ‚ú® –ê–∫—Ç–∏–≤–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è */
  .nav-link-custom.active {
    background: var(--nav-link-active-bg) !important;
    color: white !important;
    font-weight: 600;
    box-shadow: 0 2px 6px rgba(37, 99, 235, 0.4);
  }

  /* üë§ –ü–æ—Å–∏–ª–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó */
  .nav-link-auth {
    color: var(--nav-link-color) !important;
    padding: 8px 16px !important;
    margin: 0 4px;
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.2s ease;
    border: 1px solid transparent;
  }

  .nav-link-auth:hover {
    color: white !important;
    border-color: var(--navbar-border);
    background: rgba(37, 99, 235, 0.1);
  }

  /* üçî Burger menu button */
  .navbar-toggler {
    border: 1px solid rgba(255, 255, 255, 0.3);
    padding: 8px 12px;
  }

  .navbar-toggler:focus {
    box-shadow: 0 0 0 0.15rem rgba(37, 99, 235, 0.5);
  }

  .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
  }

  /* üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å */
  @media (max-width: 991px) {
    .navbar-nav {
      padding: 10px 0;
    }

    .nav-link-custom,
    .nav-link-auth {
      margin: 4px 0;
    }

    .navbar-brand {
      font-size: 1.2rem;
    }
  }

  /* üéØ –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–π–≤–∏—Ö –∫–ª–∞—Å—ñ–≤ Bootstrap */
  .nav-link-custom.bg-opacity-25,
  .nav-link-custom.rounded {
    background: transparent !important;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
  <div class="container-fluid">
    <!-- –õ—ñ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
    <a class="navbar-brand" href="{% url 'home' %}">
      <span>üåæ</span>
      <span>Kolos</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <!-- –õ—ñ–≤–µ –º–µ–Ω—é -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a href="{% url 'weigherjournal_list' %}" class="nav-link nav-link-custom" id="weigherjournal">
            <span>üìã</span>
            <span>–í–Ω—É—Ç—Ä—ñ—à–Ω—ñ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'shipmentjournal_list' %}" class="nav-link nav-link-custom" id="shipmentjournal">
            <span>üöõ</span>
            <span>–í—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'fieldsincome_list' %}" class="nav-link nav-link-custom" id="fieldsincome">
            <span>üå±</span>
            <span>–ù–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è –∑ –ø–æ–ª—ñ–≤</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'waste_list' %}" class="nav-link nav-link-custom" id="wastejournal">
            <span>üóëÔ∏è</span>
            <span>–í—ñ–¥—Ö–æ–¥–∏</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="{% url 'balance_list' %}" class="nav-link nav-link-custom" id="balances">
            <span>‚öñÔ∏è</span>
            <span>–ó–∞–ª–∏—à–∫–∏</span>
          </a>
        </li>
      </ul>

      <!-- –ü—Ä–∞–≤–µ –º–µ–Ω—é -->
      <ul class="navbar-nav ms-auto">
        {% if request.user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link nav-link-auth" href="{% url 'profile' %}">
              <span>üë§</span>
              <span>–ü—Ä–æ—Ñ—ñ–ª—å</span>
            </a>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link nav-link-auth" href="{% url 'register' %}">
              <span>üìù</span>
              <span>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-link-auth" href="{% url 'login' %}">
              <span>üîë</span>
              <span>–õ–æ–≥—ñ–Ω</span>
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<!-- –î–æ–¥–∞—î–º–æ data-page -->
<div id="page" data-page="{{ page }}"></div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const currentPage = document.getElementById("page").getAttribute("data-page");
    if (currentPage) {
      const activeLink = document.getElementById(currentPage);
      if (activeLink) {
        activeLink.classList.add("active");
      }
    }
  });
</script>