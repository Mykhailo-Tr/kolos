<div class="journal-container mt-4">
  <div class="page-header mb-3">
    <h3 class="page-title">üì¶ {{ model_name }}</h3>
  </div>

  {% if journals %}
  <div class="table-wrapper">
    <table class="journal-table">
      <thead>
        <!-- –ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–∞ -->
        <tr>
          <th>#</th>
          <th>–î–∞—Ç–∞</th>
          <th>–ö—É–ª—å—Ç—É—Ä–∞</th>
          <th>–ú—ñ—Å—Ü–µ –∑</th>
          <th>–ú—ñ—Å—Ü–µ –¥–æ</th>
          <th colspan="2">–í–ê–ì–ê (—Ç)</th>
          <th>–î—ñ—è</th>
          <th>–î—ñ—ó</th>
        </tr>
        <!-- –î—Ä—É–≥–∏–π —Ä—è–¥–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–∞ -->
        <tr style="background-color:#e0e7ff; font-weight:600; text-transform:uppercase; font-size:0.78rem; letter-spacing:0.04em;">
          <th colspan="5" class="border-0"></th>
          <th class="text-start border-end-0" style="color:#1e40af;">–í—Ö—ñ–¥</th>
          <th class="text-end border-start-0" style="color:#059669;">–í–∏—Ö—ñ–¥</th>
          <th colspan="2" class="border-0"></th>
      </tr>
      </thead>
      <tbody>
        {% for journal in journals %}
        <tr>
          <td class="text-center">{{ forloop.counter }}</td>
          <td>{{ journal.date_time|date:"d.m.Y H:i" }}</td>
          <td>–í—ñ–¥—Ö–æ–¥–∏ - {{ journal.culture }}</td>
          <td>{{ journal.place_from }}</td>
          <td>
            {% if journal.place_to %}
              {{ journal.place_to }}
            {% else %}
              <span class="text-muted">‚Äî</span>
            {% endif %}
          </td>

          {% if journal.action == 'recycling' %}
          <td class="text-start quantity-value text-primary">{{ journal.input_quantity }}</td>
          <td class="text-end quantity-value text-success">{{ journal.output_quantity }}</td>
          {% else %}
          <td colspan="2" class="text-center quantity-value text-danger">{{ journal.quantity }}</td>
          {% endif %}

          <td class="text-center">
            {% if journal.action == 'utilization' %}
            <span class="badge bg-danger">–£—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è</span>
            {% else %}
            <span class="badge bg-success">–ü–µ—Ä–µ—Ä–æ–±–∫–∞</span>
            {% endif %}
          </td>

          <td class="actions-cell">
            {% if journal.action == 'utilization' %}
            <a href="{% url 'utilization_edit' journal.id %}" class="btn-action btn-edit" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏">‚úèÔ∏è</a>
            <a href="{% url 'utilization_delete' journal.id %}" class="btn-action btn-delete" title="–í–∏–¥–∞–ª–∏—Ç–∏">üóëÔ∏è</a>
            {% else %}
            <a href="{% url 'recycling_edit' journal.id %}" class="btn-action btn-edit" title="–†–µ–¥–∞–≥—É–≤–∞—Ç–∏">‚úèÔ∏è</a>
            <a href="{% url 'recycling_delete' journal.id %}" class="btn-action btn-delete" title="–í–∏–¥–∞–ª–∏—Ç–∏">üóëÔ∏è</a>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% if is_paginated %}
  <nav aria-label="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏" class="mt-3">
    <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">¬´</a>
      </li>
      {% else %}
      <li class="page-item disabled"><span class="page-link">¬´</span></li>
      {% endif %}

      {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
      <li class="page-item active"><span class="page-link">{{ i }}</span></li>
      {% else %}
      <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.next_page_number }}">¬ª</a>
      </li>
      {% else %}
      <li class="page-item disabled"><span class="page-link">¬ª</span></li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}

  {% else %}
  <div class="alert-info">–ù–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ —É –∂—É—Ä–Ω–∞–ª—ñ.</div>
  {% endif %}
</div>
